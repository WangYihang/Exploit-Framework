import importlib
import inspect
import os

context = {
}

def init():
	importlib.import_module("core.commands.framework").Command(context)


def get_prompt():
	return "[%s] >> " % (".".join(os.path.relpath(inspect.getfile(context["instance"].__class__)).replace("/", ".").split(".")[0:-1]))


def loop():
	while True:
		command_line = raw_input(get_prompt())
		command_data = command_line.split(" ")
		context["instance"].run(*command_data)
	
def main():
	init()
	loop()

if __name__ == '__main__':
	main()